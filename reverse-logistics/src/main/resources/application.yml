# Reverse Logistics Service Configuration
# Compatible with PostgreSQL 18

server:
  port: 8091

spring:
  application:
    name: nodeorb-reverse-logistics

  datasource:
    url: jdbc:postgresql://localhost:5432/nodeorb_reverse
    username: nodeorb_reverse
    password: ${DB_PASSWORD:password}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect

  data:
    redis:
      host: localhost
      port: 6379

# Reverse Logistics Configuration
nodeorb:
  returns:
    # Статусы возврата
    statuses:
      - requested
      - approved
      - in-transit
      - received
      - inspected
      - processed
      - refunded
      - discarded
    # Правила принятия возвратов
    acceptance:
      max-days: 30
      condition-requirements:
        - unopened
        - original-packaging
        - no-damage
      exceptions:
        - defective
        - wrong-item
    # Контроль качества
    quality-control:
      inspection-required: true
      checklist:
        - packaging-condition
        - item-condition
        - completeness
        - authenticity
      defect-classification:
        - cosmetic
        - functional
        - critical
    # Обработка возвратов
    processing:
      refund-methods:
        - original-payment
        - store-credit
        - exchange
      restocking-fee-percentage: 15

  wms:
    url: http://localhost:8087

  tms:
    url: http://localhost:8084

logging:
  level:
    root: INFO
    com.nodeorb.reverselogistics: DEBUG

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
